Ti={_event_listeners:[],createEventListener:function(e){var t={listener:e,systemId:-1,index:this._event_listeners.length};return this._event_listeners.push(t),t},getEventListenerByKey:function(e,t){for(var n=0;n<this._event_listeners.length;n++)if(this._event_listeners[n][e]==t)return this._event_listeners[n];return null},API:TiAPI,App:{},executeListener:function(e,t){var n=this.getEventListenerByKey("index",e);null!==n&&n.listener.call(n.listener,t)}},Ti.App.addEventListener=Ti.App.on=function(e,t){var n=Ti.createEventListener(t);return n.systemId=TiApp.on(e,n.index),n.systemId},Ti.App.removeEventListener=Ti.App.off=function(e,t){if("number"==typeof t){TiApp.off(e,t);var n=Ti.getEventListenerByKey("systemId",t);null!==n&&Ti._event_listeners.splice(n.index,1)}else n=Ti.getEventListenerByKey("listener",t),null!==n&&(TiApp.off(e,n.systemId),Ti._event_listeners.splice(n.index,1))},Ti.App.fireEvent=Ti.App.emit=function(e,t){TiApp.emit(e,JSON.stringify(t))},Titanium=Ti;